# Experiment 2 Contents

* analysis/:
    - figures/: Contains a vectorized SVG file for the Experiment 2 figure included in the paper.
    - Analysis (IP).ipynb: Pyhthon code for loading data from the experiment and generating the figure included in the paper.
    - Processing (IP).ipynb: Python code for preprocessing the data, including calculating d' and C for each condition and organizing data from all sessions into a scores.csv file.
    - Stats (IP).R: R code for all statistical analyses performed.
* data/:
    - Illusory*.csv: Tables containing all raw data for each individual participant, as recorded by Pavlovia. See below for full data codebook.
    - scores.csv: A table containing all processed data, generated by Processing (IT-FDR2).ipynb. See below for full data codebook.
* preparation/: Python code used for preparing the stimuli and trial schedules used in the experiment.
    - Tone Generation (IP).ipynb: Code to 1) generate the raw tone files using librosa, and 2) arrange loudness-normalized tones into the stimulus sequence files found in sequences/. Loudness normalization was performed separately in Audacity.
    - Trial Randomization (IP).ipynb: Code to pre-generate randomized trial orders, which are saved in schedules/.
* schedules/: JSON files containing pre-generated randomized trial orders. The experiment.js code loads session[ID].json as the trial schedule, where [ID] is the participant's ID number (assigned automatically by our pre-session questionnaire that was conducted on LimeSurvey).
* stimuli/: All wav files used as stimuli in the experiment.
    - tones/: Contains raw and loudness-normalized versions of each tone used in the experiment. Tones are labeled by their pitch class and octave, e.g. toneA3 is A3 (220 Hz). The slightly higher and lower versions of each pitch used as probe tones are denoted tone[pitch]+ and tone[pitch]-, respectively.
    - sequence\_[pitch][shift]\_500\_[offset].wav: The stimulus sequence for trials of the specified pitch, shift (+ or -), and percent timing offset (relative to the 500 ms standard interonset interval).
* experiment.js: The jsPsych code for running Experiment 2 on Pavlovia. Includes Pavlovia integration.
* index.html: The HTML code for running Experiment 2 on Pavlovia. Note that the jsPsych library sources are not included in this repository, as Pavlovia hosts their own copy of jsPsych that our HTML code automatically accessed.

# Data Codebook for Experiment 2

## Codebook for raw individual session data (Illusory*.csv)
### Metadata
* subject: The ID number of the participant.
* experiment: The abbreviated name of the experiment. Useful if combining data from multiple experiments into one table. Always IP for this experiment.
* code_version: The version number of the code used to run that session. v0.9 was a pilot version and v1.0 was the version used in the main experiment.
* event: The name of the event that generated the data entry. One of the following:
    - welcome: The welcome screen for the experiment.
    - main_instructions: The instructions for the main pitch discrimination task.
    - practice_tones: Stimulus presentation for a practice trial of the pitch discrimination task. 
    - practice_response: Prompt to respond to a practice trial of the pitch discrimination task.
    - practice_feedback: A screen giving feedback as to what the correct answer was on a practice trial.
    - summary_instructions: Post-practice page giving the participant a reminder summary of the main task instructions.
    - tones: Stimulus presentation for one trial of the pitch discrimination task.
    - response: Prompt to respond to a trial of the pitch discrimination task.
    - break: A self-paced break in between blocks of trials.
    - ending: The final page informing the participant that they have finished the experiment.
* trial_type: The jsPsych event type that generated the data entry. (Less informative than the event column.)
* trial_index: Event number.
* internal_node_id: jsPsych's internal event IDs.
* time_elapsed: Milliseconds elapsed since the experiment began.

### Condition data
* stimulus: The text displayed on the screen or the audio file played during that event.
* octave: The octave of the tones on the trial (3 or 5 for A3 and A5 experimental trials, respectively; 4 for A4 practice trials).
* pitch_shift: Indicates whether the final tone was higher (+) or lower (-) in pitch than the standard tones
* offset: The percent timing offset of the probe tone on that trial. Positive numbers indicate a late probe and negative numbers indicate an early probe.

### Response data
* rt: The number of milliseconds after the event began that a response was recorded.
* key_press: The key ID number that was pressed in response to the event. (For events that use keyboard responses.) See <http://www.foreui.com/articles/Key_Code_Table.htm> for a dictionary of key codes. 
* button_pressed: The button ID number that was pressed in response to the event. (For events that use button responses.)

## Codebook for processed data (scores.csv)
### Condition data
* subject: subject ID number
* octave: Indicates that the data in this row corresponds to scores from trials of that octave (3 or 5).
* offset: Indicates that the data in the row corresponds to scores from trials of that percent probe timing offset (-15, 0, or 15). A negative offset indicates an early probe and a positive offset indicates a late probe.
  
### Scores
* accuracy: The participant's percent accuracy across all trials of the specified octave and offset condition.
* perc_resp_low: The percent of probes the participant labelled as low-pitched across all trials of the specified octave and offset condition.
* hit_rate: The participant's hit rate across all trials of the specified octave and offset condition.
* fa_rate: The participant's false alarm rate across all trials of the specified octave and offset condition.
* dprime: The participant's sensitivity (d') across all trials of the specified octave and offset condition.
* C: The participant's bias (C) to rate probes as low-pitched across all trials of the specified octave and offset condition.
