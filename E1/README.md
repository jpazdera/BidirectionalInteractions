# Experiment 1 Contents

* analysis/:
    - figures/: Contains vectorized SVG files for the Experiment 1 figures included in the paper.
    - Analysis (IT-FDR2).ipynb: Python code for loading data from the experiment and generating the figures included in the paper.
    - Processing (IT-FDR2).ipynb: Python code for preprocessing the data, including calculating d' and C for each condition and organizing data from all sessions into a scores.csv file.
    - Screening (IT-FDR2).ipynb: Python code to detect and exclude participants who failed the headphone test or responded with a negative d'.
    - Stats (IT-FDR2).R: R code for all statistical analyses performed.
* data/:
    - Illusory*.csv: Tables containing all raw data for each individual participant, as recorded by Pavlovia. See below for full data codebook.
    - excluded.txt: The list of participant IDs excluded by our screening methods. The list is saved as a text file with one ID number listed per line.
    - musical_training.csv: A table of data regarding participants' years of musical experience. Includes their years of formal instrumental training, their years of formal dance training, the number of years since they have taken formal instrumental or dance lessons, and whether they currently play an instrument (regardless of formal training).
    - scores.csv: A table containing all processed data, generated by Processing (IT-FDR2).ipynb. See below for full data codebook.
* headphone_check/: Stimulus files for the headphone test of Woods et al., 2017 (<https://doi.org/10.3758/s13414-017-1361-2>). The last three letters of each file name indicate which of the three tones is played In-phase, Out-of-phase, and Softer.
* plugins/: A folder for custom jsPsych plugins.
    - audio-multiple-response.js: A custom jsPsych plugin for presenting an audio file and recording multiple keyboard responses. Used for taking spontaneous motor tempo measurements.
* preparation/: Python code used for preparing the stimuli and trial schedules used in the experiment.
    - Tone Generation (IT-FDR2).ipynb: Code to 1) generate the raw tone files using librosa, and 2) arrange loudness-normalized tones into the stimulus sequence files found in sequences/. Loudness normalization was performed separately in Audacity.
    - Trial Randomization (IT-FDR2).ipynb: Code to pre-generate randomized trial orders, which are saved in schedules/.
* schedules/: JSON files containing pre-generated randomized trial orders. The experiment.js code loads session[ID].json as the trial schedule, where [ID] is the participant's ID number (assigned automatically by our pre-session questionnaire that was conducted on LimeSurvey).
* stimuli/: All wav files used as stimuli in the experiment.
    - tones/: Contains raw and loudness-normalized versions of each tone and click used in the experiment. Tones are labeled by their pitch class and octave, e.g. toneA3 is A3 (220 Hz).
    - sequence\_[task_type]\_[pitch]\_[tempo]\_[offset].wav: The stimulus sequence for trials of the specified task type, pitch, tempo, and percent timing offset. Task 0 is the pitched context condition and Task 1 is the pitched probe condition.
* experiment.js: The jsPsych code for running Experiment 1 on Pavlovia. Includes Pavlovia integration.
* index.html: The HTML code for running Experiment 1 on Pavlovia. Note that the jsPsych library sources are not included in this repository, as Pavlovia hosts their own copy of jsPsych that our HTML code automatically accessed.

# Data Codebook for Experiment 1

## Codebook for individual session data (Illusory*.csv)
### Metadata
* subject: The ID number of the participant.
* experiment: The abbreviated name of the experiment. Useful if combining data from multiple experiments into one table. Always ITFDR2 for this experiment.
* code_version: The version number of the code used to run that session. Always v1.0 for this experiment.
* event: The name of the event that generated the data entry. One of the following:
    - welcome: The welcome screen for the experiment.
    - requirements: A page informing participants of the requirements to participate (supported browsers, wear headphones, etc.)
    - headphone_test_instructions: The instructions for the headphone test.
    - headphone_test_tones: The presentation of a set of three tones during the headphone test.
    - headphone_test_response: The prompt for a response to a headphone test trial.
    - tap_task_instructions: The instructions for the spontaneous motor tempo task.
    - tapping_test: The spontaneous motor tempo (self-paced tapping) task.
    - main_instructions: The instructions for the main timing discrimination task.
    - practice_tones: Stimulus presentation for a practice trial of the timing discrimination task. 
    - practice_response: Prompt to respond to a practice trial of the timing discrimination task.
    - practice_feedback: A screen giving feedback as to what the correct answer was on a practice trial.
    - summary_instructions: Post-practice page giving the participant a reminder summary of the main task instructions.
    - tones: Stimulus presentation for one trial of the timing discrimination task.
    - response: Prompt to respond to a trial of the timing discrimination task.
    - break: A self-paced break in between blocks of trials.
    - ending: The final page informing the participant that they have finished the experiment and should receive credit soon.
* trial_type: The jsPsych event type that generated the data entry. (Less informative than the event column.)
* trial_index: Event number.
* internal_node_id: jsPsych's internal event IDs.
* time_elapsed: Milliseconds elapsed since the experiment began.

### Condition data
* stimulus: The text displayed on the screen or the audio file played during that event.
* type: Indicates whether the participant was in the pitched context condition (type = 0) or the pitched probe condition (type = 1).
* pitch: Indicates the pitch class and octave of the context (if type = 0) or probe tone (if type = 1) on that trial.
* interval: The interonset interval of the pacing signal on that trial.
* offset: The percent timing offset of the probe on that trial. Positive numbers indicate a late probe and negative numbers indicate an early probe.

### Response data
* rt: The number of milliseconds after the event began that a response was recorded.
* key_press: The key ID number that was pressed in response to the event. (For events that use keyboard responses.) See <http://www.foreui.com/articles/Key_Code_Table.htm> for a dictionary of key codes. 
* button_pressed: The button ID number that was pressed in response to the event. (For events that use button responses.)
* test_answer: The keypress to answer a given headphone test trial correctly.

## Codebook for processed data (scores.csv)
### Condition data
* subject: subject ID number
* task_type: Indicates whether the participant was in the pitched context condition (type = 0) or the pitched probe condition (type = 1).
* octave: Indicates that the data in this row corresponds to scores from trials of that octave (3, 5 or 7).
* ioi: Indicates that the data in the row corresponds to scores from trials of that interonset interval (400 or 600).
### Condition-specific scores
* accuracy: The participant's percent accuracy across all trials of the specified octave and IOI condition.
* perc_resp_early: The percent of probes the participant labelled as early across all trials of the specified octave and IOI.
* hit_rate: The participant's hit rate across all trials of the specified octave and IOI condition.
* fa_rate: The participant's false alarm rate across all trials of the specified octave and IOI condition.
* dprime: The participant's sensitivity (d') across all trials of the specified octave and IOI condition.
* C: The participant's bias (C) to rate probes as early across all trials of the specified octave and IOI condition.
### Full-session scores
* subj_accuracy: The participant's overall percent accuracy across all trials of all conditions.
* subj_perc_resp_early: The overall percent of probes the participant labelled as early across trials of all conditions.
* subj_hit_rate: The participant's overall hit rate across all trials of all conditions.
* subj_fa_rate: The participant's overall false alarm rate across all trials of all conditions.
* subj_dprime: The participant's overall sensitivity (d') across all trials of all conditions.
* subj_C: The participant's overall bias (C) to rate probes as early across all trials of all conditions.
